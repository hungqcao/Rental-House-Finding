@model RentalHouseFinding.Models.ManagePaymentModel
@{
    ViewBag.Title = "Lịch sử giao dịch";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}
<script src="@Url.Content("~/Scripts/RHFScripts.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.min.js")" type="text/javascript"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
<script>
    $(document).ready(function () {
        $('a[href="#"]').live('click', function (event) {
            event.preventDefault();
        });
        $("#created_date_from").datepicker({ dateFormat: 'yy/mm/dd', changeMonth: true, changeYear: true });
        $("#created_date_to").datepicker({ dateFormat: 'yy/mm/dd', changeMonth: true, changeYear: true });
    });
</script>
@using (Html.BeginForm("Payments", "User", FormMethod.Post))
{

    <div style="position:relative; left:67px;">
         <label style="position:relative; right:5px;font-size: 15px; font-weight: 700;">Ngày giao dịch</label><br/>
         <label style="padding-top: 5px; font-size: 14px; font-weight: 700;">Từ</label> 
         <div style="padding-top: 5px;">@Html.TextBoxFor(model => model.CreatedDateFrom,
                    new { @id = "created_date_from"})</div>
         <label style="padding-top: 5px; font-size: 14px; font-weight: 700;">Đến</label> 
         <div style="padding-top: 5px;">@Html.TextBoxFor(model => model.CreatedDateTo,
                    new { @id = "created_date_to"})</div>
    </div>
    <input type="submit" value="Search" id="search"/>
}

<div id="container-grid">
@{
    if (Model != null && Model.Grid.TotalRowCount > 0)
    {
        WebGrid grid = Model.Grid;
        @grid.GetHtml(tableStyle: "webGrid", mode: WebGridPagerModes.All,
                            headerStyle: "header",
                            alternatingRowStyle: "alt",
                            htmlAttributes: new { id = "grid" },
                            columns: grid.Columns(
                                     grid.Column(header: "STT", format: item => item.WebGrid.Rows.IndexOf(item) + 1 + ViewBag.Index),
                                     grid.Column(columnName: "Code", header: "Mã bài đăng"),  
                                     grid.Column(columnName: "PostTitle", header: "Tên bài", format: @<text>
                                <a href="@Url.Action("Details",
                                "Post",
                                new { id = @item.PostsId })">@item.Post.Title</a></text>),
                                grid.Column("CreatedDate", "Ngày giao dịch"),                                
                                grid.Column("PhoneNumber", "Số điện thoại giao dịch")
        ));
    }
    else
            {
                <div id="message-sv" style="width:967px; margin: 0 auto;">
                    <div class="message-notification message-information">
                        <a class="close" id="btnCloseDiv"></a>
                        <div>
                            Bạn chưa có giao dịch nào :)
                        </div>
                    </div>
                </div>
            }
}

</div>
<script type="text/javascript" >
    $(document).ready(function () {
        $("#options a").removeClass("active");
        $("#btnLichSu").addClass('active');
        $('a[href="#"]').live('click', function (event) {
            event.preventDefault();
        });
    });
</script>