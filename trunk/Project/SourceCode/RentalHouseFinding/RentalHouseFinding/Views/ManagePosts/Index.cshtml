@model IEnumerable<RentalHouseFinding.Models.Posts>
@{
    Uri auxBaseUri = new Uri(Request.Url.GetLeftPart(UriPartial.Authority));
    Uri baseUri = new Uri(auxBaseUri, Url.Content("~"));
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<script>
    $(document).ready(function () {
        $('a[href="#"]').live('click', function (event) {
            event.preventDefault();
        });
        $("#expire_date").datepicker({ dateFormat: 'yy/mm/dd'});
    });
</script>
<script src="@Url.Content("~/Scripts/RHFScripts.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.min.js")" type="text/javascript"></script>
 <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
@using (Html.BeginForm("Index", "ManagePosts", FormMethod.Post))
{
    <fieldset>
        <legend>Filters</legend>
        <table>
        <tr>
            <th>
                User ID
            </th>
            <th>
                Tỉnh/Thành phố
            </th>
            <th>
                Quận/Huyện
            </th>
            <th>
                Ngày hết hạn
            </th>
        </tr>
            <tr>
            <td>@Html.DropDownList("UserId",
                (IEnumerable<SelectListItem>)ViewBag.Users,
                "User", new { @class = "select" })</td>
            <td>@Html.DropDownList("ProvinceId",
                (IEnumerable<SelectListItem>)ViewBag.Provinces,
                "Chọn Tỉnh/Thành phố", new { @class = "select" })</td>
                <td>@Html.DropDownList("DistrictId",
                (IEnumerable<SelectListItem>)ViewBag.Districts,
                "Quận/Huyện", new { @class = "select" })</td>

            <td>@Html.TextBox("ExpireDate", @TempData["ExpireDate"], 
                new { @id = "expire_date", @readonly = "readonly" })</td>
            <td><input type="submit" value="Search" id="search"/></td>
            </tr>
        </table>
    </fieldset>
}
<br>
<div id="container-grid">
@{
    if (ViewBag.Grid != null)
    {
        WebGrid grid = ViewBag.Grid;
        @grid.GetHtml(tableStyle: "webGrid", mode: WebGridPagerModes.All,
                            headerStyle: "header",
                            alternatingRowStyle: "alt",
                            htmlAttributes: new { id = "grid" },
                            columns: grid.Columns(
                                grid.Column("ID", "Id"),
                                     grid.Column("UserId", "User Id"),
                                     grid.Column(header:"Title", format: @<text>
                                             <a href="@Url.Action("Details", 
                                             "Post", 
                                             new { id = @item.ID })">@item.Title</a></text>),
                                    grid.Column("PostStatus", "Post Status"),
                                    grid.Column("CreatedDate", "Created Date"),
                                    grid.Column("EditedDate", "Edited Date"),
                                    grid.Column("RenewDate", "Renew Date"),
                                    grid.Column("ExpiredDate", "Expired Date")
                                ));
    }
}

</div>